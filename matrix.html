<!doctype html>
<html class="no-js" lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>the blue pill</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <script src="js/vendor/modernizr-2.8.3.min.js"></script>
  <script src="js/vendor/aframe.min.js"></script>
  <script src="js/vendor/aframe-ar.js"></script>
  <script>THREEx.ArToolkitContext.baseURL = 'https://rawgit.com/randito/ar.js/master/three.js/'</script>
</head>

<!-- <body style='margin : 0px; overflow: hidden;'>
</body>
-->

<body style='margin : 0px; overflow: hidden;'>

  <!-- Add your site or application content here -->
  <p>Entering the Matrix....</p>

  <script src="https://aframe.io/releases/0.5.0/aframe.min.js">
</script>
<script src="https://cdn.rawgit.com/maxkrieger/aframe-draw-component/5a5d1e66/dist/aframe-draw-component.min.js"></script>
<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.7.0/dist/aframe-extras.min.js"></script>
<script>
  // needs cleaned up :)
  // var chars = '⚧田由M甲申甴电☫甶0男甸A甹町画甼甽甾T甿畀畁畂∞畃R畄畅畆畇I≌畈畉畊畋X界畍⩰畎畏畐Q畑ॐ'; // om
  var chars = 'coefficientsquarerootthundercabrahpirateminionswalgreens'; // om
  chars = chars.split(''); // make array
  var font_size = 12;

  AFRAME.registerComponent("acanvas", {
  dependencies: ["draw"],
  init: function(){
    this.draw = this.el.components.draw; //get access to the draw component
    this.draw.canvas.width = '512';
    this.draw.canvas.height = '512';
    this.cnvs = this.draw.canvas;
    var columns = this.cnvs.width/font_size;
    this.drops = [];
    for(var x=0;x<columns;x++){
      this.drops[x]=1;
    }
    this.ctx = this.draw.ctx;
  },
  tick: function(){
    this.ctx.fillStyle = 'rgba(0,0,0,0.05)';
    this.ctx.fillRect(0,0,this.cnvs.width,this.cnvs.height);
    this.ctx.fillStyle = '#0F0';
    this.ctx.font = font_size + 'px helvetica';
    for(var i=0;i<this.drops.length;i++){
      var txt = chars[Math.floor(Math.random()*chars.length)];
      this.ctx.fillText(txt,i*font_size, this.drops[i]*font_size);
      if(this.drops[i]*font_size>this.cnvs.height&&Math.random()>0.975){
        this.drops[i] = 0; // back to the top!
      }
      this.drops[i]++;
    }
    this.draw.render();
  }
});
</script>

 <a-scene embedded artoolkit='sourceType: webcam;'>
  <a-marker preset='kanji'>
    <a-plane acanvas position="0 0 0" rotation="-90 0 0" width="1.0" height="1.0"></a-plane>
  </a-marker>
</a-scene>


  <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.12.0.min.js"><\/script>')</script>
  <script src="js/plugins.js"></script>
  <script src="js/main.js"></script>

  <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
  <script>
    (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
    e=o.createElement(i);r=o.getElementsByTagName(i)[0];
    e.src='https://www.google-analytics.com/analytics.js';
    r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
    ga('create','UA-XXXXX-X','auto');ga('send','pageview');
  </script>
</body>
</html>
